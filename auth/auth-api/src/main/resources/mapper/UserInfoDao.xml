<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD mapper 3.0//EN" 
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="spring.auth.api.dao.UserInfoDao">
  
  <select id="selectNextId">
    SELECT /* UserInfoDao.selectNextId */
           TO_CHAR(NOW(), 'YYYYMMDDHH') || LPAD(NEXTVAL('sq_user_id')||'', 5, '0') AS id
  </select>
  
  <select id="selectMemberById" resultType="MemberVo">
    SELECT /* UserInfoDao.selectMemberById */
           id,
           login_id,
           nickname
    FROM   member a
    WHERE  a.id = #{id}
  </select>
  
  <select id="selectManagerById" resultType="ManagerVo">
    SELECT /* UserInfoDao.selectManagerById */
           id,
           login_id,
           mgr_name
    FROM   manager a
    WHERE  a.id = #{id}
  </select>
  
</mapper>
